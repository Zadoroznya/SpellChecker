@inherits LayoutComponentBase
@inject LayoutService LayoutService

<MudThemeProvider @ref="@_mudThemeProvider"
                  Theme="@LayoutService.CurrentTheme"
                  ObserveSystemThemeChange="@LayoutService.ObserveSystemThemeChange"
                  IsDarkMode="@LayoutService.IsDarkMode"
                  IsDarkModeChanged="LayoutService.SetDarkMode" />
<MudPopoverProvider/>
<MudDialogProvider/>
<MudSnackbarProvider/>

<MudLayout Style="height: 100vh;">
	<MudAppBar Elevation="1">
		<MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="DrawerToggle" />
		<MudText Typo="Typo.h5" Class="ml-3">@Constants.AppName</MudText>
	</MudAppBar>
	<MudDrawer @bind-Open="_drawerOpen" ClipMode="DrawerClipMode.Always" Elevation="2">
		<NavMenu/>
	</MudDrawer>
	<MudMainContent>
		<MudContainer MaxWidth="MaxWidth.ExtraLarge" Class="mt-5">
			@Body
		</MudContainer>
	</MudMainContent>
</MudLayout>

@code {
	bool _drawerOpen = true;
	void DrawerToggle() => _drawerOpen = !_drawerOpen;
}